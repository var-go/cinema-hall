# Cinema Hall

Микросервисная система для управления кинотеатром с возможностью бронирования билетов, управления сеансами, фильмами и залами. Система построена на архитектуре микросервисов с использованием Apache Kafka для асинхронной обработки событий и API Gateway в качестве единой точки входа.

## Функционал приложения

- Регистрация и авторизация пользователей
- Просмотр списка фильмов и детальной информации о фильме
- Просмотр списка сеансов и детальной информации о сеансе
- Просмотр агрегированной информации о сеансе с данными о фильме и зале
- Создание бронирования билетов на сеанс
- Просмотр списка бронирований и детальной информации о бронировании
- Подтверждение бронирования
- Отмена бронирования
- Автоматическая отмена бронирований по истечении 15 минут

## Технологический стек

- Go 1.25.4, Gin, PostgreSQL 15, GORM, Apache Kafka, JWT

**Архитектура**: Микросервисная архитектура (5 независимых сервисов: User, Movie, Cinema, Booking, Gateway)

## Архитектура

```
             HTTP      ┌───────────────────┐
┌────────┐ ──────────> │  Gateway Service  │
│ Client │             └─────────┬─────────┘
└────────┘                       │
           ┌─────────────────────┼─────────────────────┐
           │                     │                     │
           v                     v                     v
    ┌──────────────┐      ┌──────────────┐      ┌──────────────┐
    │    Movie     │      │   Booking    │      │    User      │
    │   Service    │      │   Service    │      │   Service    │
    └──────┬───────┘      └──────┬───────┘      └──────┬───────┘
           │                     │                     │
      PostgreSQL                 │ HTTP           PostgreSQL
                                 │ (get seats,
                                 │  check availability)
                                 v
                          ┌──────────────┐
                          │   Cinema     │
                          │   Service    │
                          └──────┬───────┘
                                 │
                            PostgreSQL
                                 │
                          Kafka Topics
                     ┌─────────────────────┐
                     │ booking.confirmed   │
                     │ booking.cancelled   │
                     └─────────────────────┘
```

## Запуск проекта

```bash
git clone <repository-url>
cd cinema-hall
docker-compose up -d
./seed_data.sh
```

После запуска:
- Gateway: http://localhost:8085
- Kafka UI: http://localhost:8086

## Участники разработки

- Усман Дзакаев (https://github.com/dzakaev)
- Бекхан Хаджимагомадов (https://github.com/Bekkhanbs)
- Вис Магомадов (https://github.com/magadov)
